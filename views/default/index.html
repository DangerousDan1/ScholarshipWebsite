<!DOCTYPE html>
<html lang="en">
{{extend 'layout.html'}}

{{#block head}}
{{#end}}

<div class="user_space three wide column">
  <!-- Here goes your main HTML code. -->
  {{if auth.user is not None:}}
    {{if auth.user.email == "scholarship@admin.com":}}
    <h1>Welcome to the administrator page for scholarships. </h1>
    <h3>To see a list of the applicants, click on the button below.</h3>
    <div class="button_list">
      <div class="buttons">
        <a class="btn btn-primary" href="{{=URL('default', 'see_users')}}">
        View applicants
        </a>
      </div>
    </div>
    <h3>To establish a scholarship, click on the button below.</h3>
    <div class="button_list">
      <div class="buttons">
        <a class="btn btn-success" href="{{=URL('default', 'add_scholarship')}}">
        Establish scholarship
        </a>
      </div>
    </div>
    <div class = "established-scholarhips">
    <h3>To view established scholarships, click on the button below.</h3>
    <div class="buttons">
      <a class="btn btn-info" href="{{=URL('default', 'view_scholarships')}}">
      View scholarships
      </a>
    </div>
    <h3>To log out, click on the button below.</h3>
    <div class="buttons">
      <a class="btn btn-danger" href="{{=URL('default', 'user/logout')}}">
        Log Out
      </a>
    </div>
    </div>
    {{else:}}
  <div class="add_btn">
    <a class="btn btn-primary" href="{{=URL('default', 'add')}}"><i class="fa fa-plus"></i> Add your Information</a>
  </div>
  <h2> Available Scholarships<br></h2>
  <table class = "center" id="myTable2">
    <tr>
      <th onclick="sortTable(0)">Scholarship Name</th>
      <th>Description</th>
      <th>Contact Name</th>
      <th>Email</th>
      <th onclick="sortTable(0)">Amount</th>
    </tr>
  {{for sl in scholarships:}}
    <tr>
      <td>{{=sl.scholarship_name}}</td>
      <td>{{=sl.information}}</td>
      <td>{{=sl.contact_name}}</td>
      <td>{{=sl.contact_email}}</td>
      <td>{{=sl.scholarship_amount}}</td>
    </tr>
    {{pass}}
  </table>
  <script>
  function sortTable(n) {
    var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
    table = document.getElementById("myTable2");
    switching = true;
    // Set the sorting direction to ascending:
    dir = "asc";
    /* Make a loop that will continue until
    no switching has been done: */
    while (switching) {
      // Start by saying: no switching is done:
      switching = false;
      rows = table.getElementsByTagName("TR");
      /* Loop through all table rows (except the
      first, which contains table headers): */
      for (i = 1; i < (rows.length - 1); i++) {
        // Start by saying there should be no switching:
        shouldSwitch = false;
        /* Get the two elements you want to compare,
        one from current row and one from the next: */
        x = rows[i].getElementsByTagName("TD")[n];
        y = rows[i + 1].getElementsByTagName("TD")[n];
        /* Check if the two rows should switch place,
        based on the direction, asc or desc: */
        if (dir == "asc") {
          if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
            // If so, mark as a switch and break the loop:
            shouldSwitch = true;
            break;
          }
        } else if (dir == "desc") {
          if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
            // If so, mark as a switch and break the loop:
            shouldSwitch = true;
            break;
          }
        }
        if (Number(x.innerHTML) > Number(y.innerHTML)) {
          shouldSwitch = true;
          break;
        }
      }
      if (shouldSwitch) {
        /* If a switch has been marked, make the switch
        and mark that a switch has been done: */
        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
        switching = true;
        // Each time a switch is done, increase this count by 1:
        switchcount ++;
      } else {
        /* If no switching has been done AND the direction is "asc",
        set the direction to "desc" and run the while loop again. */
        if (switchcount == 0 && dir == "asc") {
          dir = "desc";
          switching = true;
        }
      }
    }
  }
  </script>
  <h3>To log out, click on the button below.</h3>
  <div class="buttons">
    <a class="btn btn-danger" href="{{=URL('default', 'user/logout')}}">
    Log Out
    </a>
  </div>
</div>
  {{pass}}

  {{elif auth.user is None:}}
  <div class = "page-title">
   <h1 class="main_title">Welcome to Greek Orthodox Scholarships!</h1>
    <p class="explanation">Sign Up to see which scholarships we offer!</p>
</div>
    <div class="login_button">
        <a href="{{=URL('default', 'user')}}" class="btn btn-danger btn-lg">Login</a>
        <a href="{{=URL('default', 'user/register')}}" class="btn btn-info btn-lg">SignUp</a>
    </div>
  <div class = "home-images">
   <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
     <ol class="carousel-indicators">
       <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
       <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
       <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
     </ol>
     <div class="carousel-inner">
       <div class="carousel-item active">
         <img class="d-block w-100" src="../static/images/Penelope.jpg" alt="First slide">
         <div class="carousel-caption d-none d-md-block">
           <h5>PHILANTHROPY</h5>
           <p>Enriching communities where we live</p>
         </div>
       </div>
       <div class="carousel-item">
         <img class="d-block w-100" src="../static/images/Scholarship.jpg" alt="Second slide">
         <div class="carousel-caption d-md-block">
           <h5>EDUCATION</h5>
           <p>Advancing people through higher education</p>
         </div>
       </div>
       <div class="carousel-item">
         <img class="d-block w-100" src="../static/images/BookClub-1.jpg" alt="Third slide">
         <div class="carousel-caption d-none d-md-block">
           <h5>LITERACY</h5>
           <p>Strengthening literacy & reading</p>
         </div>
       </div>
     </div>
     <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
       <span class="carousel-control-prev-icon" aria-hidden="true"></span>
       <span class="sr-only">Previous</span>
     </a>
     <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
       <span class="carousel-control-next-icon" aria-hidden="true"></span>
       <span class="sr-only">Next</span>
     </a>
   </div>
 </div>

<!-- </div> -->
    <div class="container">
  <div class="half left" style="display:block">
    <br>
    <div class = "about-us">
    <p><h2 class="center"><font face="al bayan " size="10" sans-serif> About Us</font></h2></p>
    <p class="center"><font face="arial" size="4" sans-serif>
      The DOP foundation was founded in 1983 to promote social,
      ethical, philanthropic, cultural, educational and intellectual interests of
      its members. The Foundation also preserves and promotes the ideals
      and traditions of Hellenism.</font> </p>
      <p class="center"><font face="arial" size="4" sans-serif>
        The foundation is a 501(c)3 Charitable Foundation and is,
        therefore, able to issue tax deductible receipts for all donations.
      </font></p>
      <p class="center"><font face="arial" size="4" sans-serif>
        The Daughters of Penelope Foundation, Inc. works hand-in-hand with the
        Daughters of Penelope and serves its members, and the citizenâ€™s where our
        members reside, world-wide.
      </font></p>
    </div>
  </div>
  <div class = "logo">
    <div class="half ">
      <img src="../static/images/Logo_aboutus2.jpg"/>
    </div>
  </div>
</div>
  {{pass}}

</div>
</html>
